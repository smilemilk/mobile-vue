{"version":3,"sources":["webpack:///./src/view/cashier/index.vue?33cc","webpack:///./src/view/cashier/store/index.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./src/api/cashier.js","webpack:///./src/view/cashier/index.vue?190e","webpack:///src/view/cashier/index.vue","webpack:///./src/view/cashier/index.vue?441c","webpack:///./src/view/cashier/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_7abab9f0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_7abab9f0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","loginRule","loginRuleText","loginInputStatus","loginStatus","loginRuleTextStatus","departName","departList","accountList","remarkShow","amount","remark","defined","MATCH","$match","regexp","O","this","fn","undefined","call","RegExp","String","_libs_request__WEBPACK_IMPORTED_MODULE_1__","_libs_util__WEBPACK_IMPORTED_MODULE_2__","createOrder","params","request","url","util","ajaxFront","method","Object","assign","XiMai","queryOrder","cancelOrder","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","$route","meta","left-arrow","z-index","on","click-left","navBackClick","class","_v","directives","name","rawName","value","expression","cursorStatus","maxlength","placeholder","domProps","focus","$event","keyFocus","input","target","composing","$set","nativeOn","touchstart","stopPropagation","keyboardShow","staticStyle","width","click","remarkToggleHandle","btnStatus","submitAction","show","extra-key","close-button-text","blur","onInput","delete","onDelete","staticRenderFns","cashiervue_type_script_lang_js_","components","_components","defineProperty","tag","col","icon","cell","cell_group","swipe","swipe_item","goods_action","goods_action_big_btn","goods_action_mini_btn","number_keyboard","nav_bar","data","store","created","length","watch","val","old","Math","floor","toast","common","methods","join","fetchLoading","loading","mask","message","createOrderFetch","_this","cashier","orderId","random","Date","valueOf","payOrderType","payAmount","parseFloat","toFixed","deadTime","then","response","clear","success","payOrderNo","match","query","code","setTimeout","$router","push","msg","catch","indexOf","split","substring","document","activeElement","_this2","view_cashiervue_type_script_lang_js_","component","componentNormalizer","options","__file"],"mappings":"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","file":"js/chunk-7fc48748.808eeb22.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7abab9f0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7abab9f0&lang=less&scoped=true&\"","export default function () {\n    return {\n        loginRule: [0, 0],\n        loginRuleText: [\n            '请输入金额'\n        ],\n        loginInputStatus: [0, 0],\n        loginStatus: true,\n        loginRuleTextStatus: false,\n        departName: '',\n        departList: '',\n        accountList: [],\n        remarkShow: false,\n        amount: '',\n        remark: '',\n    }\n}\n","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","'use strict';\n\nimport request from '@/libs/request';\nimport util from '@/libs/util';\n\nexport function createOrder (params) {\n    return request({\n        url: util.ajaxFront + 'XiMai/createOrder',\n        method: 'get',\n        params:  Object.assign({},params,{\n            'XiMai': true\n        })\n    });\n}\n\nexport function queryOrder (params) {\n    return request({\n        url: util.ajaxFront + 'XiMai/queryPayOrder',\n        method: 'get',\n        params:  Object.assign({},params,{\n            'XiMai': true\n        })\n    });\n}\n\nexport function cancelOrder (params) {\n    return request({\n        url: util.ajaxFront + 'XiMai/cancelOrder',\n        method: 'get',\n        params:  Object.assign({},params,{\n            'XiMai': true\n        })\n    });\n}\n\nexport default {\n    createOrder,\n    queryOrder,\n    cancelOrder\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticClass:\"bar-wrapper\",attrs:{\"title\":this.$route.meta.title,\"left-arrow\":\"\",\"z-index\":999},on:{\"click-left\":_vm.navBackClick}}),_c('div',{staticClass:\"cashier-wrapper container-wrapper\"},[_c('div',{staticClass:\"cashier-inner\"},[_c('div',{staticClass:\"item pb3\",class:this.loginInputStatus[0] === 1 ? 'bB1' : ''},[_c('div',{staticClass:\"item-label\"},[_vm._v(\"输入金额（元）\")]),_c('div',{staticClass:\"cashier-input\"},[_c('div',{staticClass:\"flex-content flex-content-align\"},[_c('div',{staticClass:\"cashier-input-unit mr4\"},[_vm._v(\"￥\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(this.amount),expression:\"this.amount\"}],staticClass:\"item-input amount-input\",class:_vm.cursorStatus ? 'cursor' : '',attrs:{\"maxlength\":\"9\",\"placeholder\":\"0.00\"},domProps:{\"value\":(this.amount)},on:{\"focus\":function($event){_vm.keyFocus()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(this, \"amount\", $event.target.value)}},nativeOn:{\"touchstart\":function($event){$event.stopPropagation();_vm.keyboardShow = true}}})]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.loginRule[0] === 0 &&\n                           this.loginRuleTextStatus === true),expression:\"this.loginRule[0] === 0 &&\\n                           this.loginRuleTextStatus === true\"}],staticClass:\"item-notice\"},[_vm._v(\"不能为空\")])])]),_c('div',{staticClass:\"font-n-l mt10\"},[_vm._v(\"请仔细确认输入金额是否与商品价格一致\")]),_c('div',{staticClass:\"mt20\"},[(!_vm.remarkShow)?_c('div',[_c('span',{staticClass:\"font-n-b\",on:{\"click\":function($event){_vm.remarkToggleHandle()}}},[_vm._v(\"添加备注\")])]):_c('div',{staticClass:\"item pt0\",class:this.loginInputStatus[1] === 1 ? 'bB1' : ''},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remark),expression:\"remark\"}],staticClass:\"item-input\",staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请输入收款备注\"},domProps:{\"value\":(_vm.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.remark=$event.target.value}}})])])]),_c('div',{staticClass:\"plr16\"},[_c('button',{staticClass:\"\\n                     btn\\n                     btn-block\\n                     btn-primary\\n                     mt14\",class:this.btnStatus ? '' :'btn-disabled',on:{\"click\":function($event){_vm.submitAction()}}},[_vm._v(\"确定\\n            \")])]),_c('van-number-keyboard',{attrs:{\"show\":_vm.keyboardShow,\"extra-key\":\".\",\"close-button-text\":\"完成\"},on:{\"blur\":function($event){_vm.keyboardShow = false},\"input\":_vm.onInput,\"delete\":_vm.onDelete}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <van-nav-bar\n                class=\"bar-wrapper\"\n                :title=\"this.$route.meta.title\"\n                left-arrow\n                :z-index=\"999\"\n                @click-left=\"navBackClick\"\n        />\n        <div class=\"cashier-wrapper container-wrapper\">\n            <div class=\"cashier-inner\">\n\n                <div class=\"item pb3\"\n                     :class=\"this.loginInputStatus[0] === 1 ? 'bB1' : ''\"\n                >\n                    <div class=\"item-label\">输入金额（元）</div>\n\n                    <div class=\"cashier-input\">\n                        <div class=\"flex-content flex-content-align\">\n                            <div class=\"cashier-input-unit mr4\">￥</div>\n                            <input v-model=\"this.amount\"\n                                   @touchstart.native.stop=\"keyboardShow = true\"\n                                   @focus=\"keyFocus()\"\n                                   class=\"item-input amount-input\"\n                                   :class=\"cursorStatus ? 'cursor' : ''\"\n                                   maxlength=\"9\"\n                                   placeholder=\"0.00\"/>\n                        </div>\n                        <p class=\"item-notice\"\n                           v-show=\"this.loginRule[0] === 0 &&\n                               this.loginRuleTextStatus === true\">不能为空</p>\n                    </div>\n                </div>\n                <div class=\"font-n-l mt10\">请仔细确认输入金额是否与商品价格一致</div>\n                <div class=\"mt20\">\n                    <div v-if=\"!remarkShow\">\n                    <span\n                            @click=\"remarkToggleHandle()\"\n                            class=\"font-n-b\"\n                    >添加备注</span>\n                    </div>\n                    <div class=\"item pt0\"\n                         :class=\"this.loginInputStatus[1] === 1 ? 'bB1' : ''\"\n                         v-else\n                    >\n                        <input v-model=\"remark\"\n                               class=\"item-input\"\n                               style=\"width: 100%;\"\n                               placeholder=\"请输入收款备注\"/>\n                    </div>\n                </div>\n            </div>\n            <div class=\"plr16\">\n                <button\n                        class=\"\n                         btn\n                         btn-block\n                         btn-primary\n                         mt14\"\n                        :class=\"this.btnStatus ? '' :'btn-disabled'\"\n                        @click=\"submitAction()\">确定\n                </button>\n            </div>\n            <van-number-keyboard\n                    :show=\"keyboardShow\"\n                    extra-key=\".\"\n                    close-button-text=\"完成\"\n                    @blur=\"keyboardShow = false\"\n                    @input=\"onInput\"\n                    @delete=\"onDelete\"\n            />\n\n        </div>\n\n    </div>\n</template>\n\n<script>\n    import {\n        Tag,\n        Col,\n        Icon,\n        Cell,\n        CellGroup,\n        Swipe,\n        Toast,\n        SwipeItem,\n        GoodsAction,\n        GoodsActionBigBtn,\n        GoodsActionMiniBtn,\n        NumberKeyboard,\n        NavBar\n    } from 'vant';\n    import storeData from './store/index';\n    import ajax from '@/api/cashier';\n    import {getBLen} from '@/validate/common';\n\n    export default {\n        components: {\n            [Tag.name]: Tag,\n            [Col.name]: Col,\n            [Icon.name]: Icon,\n            [Cell.name]: Cell,\n            [CellGroup.name]: CellGroup,\n            [Swipe.name]: Swipe,\n            [SwipeItem.name]: SwipeItem,\n            [GoodsAction.name]: GoodsAction,\n            [GoodsActionBigBtn.name]: GoodsActionBigBtn,\n            [GoodsActionMiniBtn.name]: GoodsActionMiniBtn,\n            NumberKeyboard: NumberKeyboard,\n            NavBar: NavBar\n        },\n\n        data() {\n            return Object.assign(storeData.call(this), {\n                keyboardShow: true,\n                btnStatus: false,\n                cursorStatus: false\n            });\n        },\n        created() {\n           if (this.keyboardShow == true && this.amount.length == 0) {\n               this.cursorStatus = true;\n           }\n        },\n        watch: {\n            'amount': function (val, old) {\n                if (val) {\n                    if (val) {\n                        this.cursorStatus = false;\n                    } else {\n                        this.cursorStatus = true;\n                    }\n                    this.loginRule[0] = 1;\n                    if (val*1 > 0) {\n                        this.btnStatus = true;\n                    } else {\n                        this.btnStatus = false;\n                    }\n                    if (this.remark) {\n                        this.loginStatus = true;\n                    } else {\n                        this.loginStatus = false;\n                    }\n\n                    if (Math.floor(val*1) > 100000) {\n                        this.btnStatus = false;\n                        Toast('可输入的最大金额为100,000');\n                        this.amount=old;\n                        return;\n                    }\n                } else {\n                    this.btnStatus = false;\n                    this.loginRule[0] = 0;\n                    this.btnStatus = false;\n                }\n                if (val !== old) {\n                    this.loginInputStatus[0] = 1;\n                    this.loginInputStatus[1] = 0;\n                } else {\n                    this.loginInputStatus[0] = 0;\n                }\n            },\n            'remark': function (val, old) {\n                if (val) {\n                    this.loginRule[1] = 1;\n                } else {\n                    this.loginRule[1] = 0;\n                }\n                if (val !== old) {\n                    this.loginInputStatus[0] = 0;\n                    this.loginInputStatus[1] = 1;\n                } else {\n                    this.loginInputStatus[1] = 0;\n                }\n                if (getBLen(val + '') > 100) {\n                    this.remark = old;\n                    Toast('备注在100个字符之内');\n                    return;\n                }\n            }\n        },\n        methods: {\n            submitAction() {\n                if (this.btnStatus === false) {\n\n                    if (!this.amount) {\n                        Toast('请输入收款金额');\n                    }\n\n                    if (Math.floor(this.amount) > 100000) {\n                        Toast('可输入的最大金额为100,000');\n                    }\n                    return;\n                }\n                if ((this.loginRule.join() === '1,1') || (this.loginRule.join() === '1,0')) {\n                    this.loginStatus = true;\n                    this.loginRuleTextStatus = false;\n                    let fetchLoading = Toast.loading({\n                        mask: true,\n                        message: '请等待...'\n                    });\n                    this.createOrderFetch(fetchLoading);\n                } else {\n                    this.loginStatus = false;\n                    this.loginRuleTextStatus = true;\n                }\n            },\n            createOrderFetch(fetchLoading) {\n                ajax.createOrder({\n                    orderId: (Math.floor(Math.random() * 900) + 100) + '' + (new Date()).valueOf(),\n                    payOrderType: 'xxsk',\n                    payAmount: parseFloat(this.amount * 100).toFixed(0),\n                    remark: this.remark,\n                    deadTime: 5 // 五分钟\n                }).then(response => {\n                    fetchLoading.clear();\n                    if (!response.success === true) {\n                        Toast(response.msg || '收款创建失败');\n                        return;\n                    } else {\n                        if (response.data) {\n                            let payOrderNo = response.data.match(/payOrderNo=(\\S*)/)[1];\n                            let query = {\n                                amount: this.amount,\n                                payOrderNo: payOrderNo || '',\n                                code: response.data || ''\n                            };\n                            setTimeout(() => {\n                                this.$router.push({\n                                    name: 'cashierCode',\n                                    query: query\n                                });\n                            }, 800);\n                        } else {\n                            Toast(response.msg || '收款创建失败');\n                            return;\n                        }\n                    }\n                }).catch(() => {\n                    fetchLoading.clear();\n                    Toast('收款创建失败');\n                    return;\n                });\n            },\n            remarkToggleHandle() {\n                this.remarkShow = true;\n            },\n            onInput(value) {\n                if (value === '.') {\n                    if ((this.amount + '').indexOf('.') > -1) {\n                        return;\n                    }\n                }\n                if (value === '0' || value === 0) {\n                    if (this.amount + '' === '0') {\n                        return;\n                    }\n                }\n\n                if (this.amount + '' === '0') {\n                    if (value !== '.') {\n                        return;\n                    }\n                }\n\n\n                if ((this.amount + '').indexOf('.') > -1) {\n                    if ((this.amount + '').split(\".\")[1].length > 1) {\n                        return;\n                    }\n                }\n\n                this.amount = this.amount + (value + '');\n            },\n            onDelete() {\n                if ((this.amount + '').length > 0) {\n                    this.amount = this.amount.substring(0, this.amount.length - 1);\n                    if (this.amount) {\n                        this.cursorStatus = false;\n                    } else {\n                        this.cursorStatus = true;\n                    }\n                }\n            },\n            keyFocus() {\n                this.keyboardShow = true;\n                document.activeElement.blur();\n            },\n            navBackClick() {\n                setTimeout(() => {\n                    this.$router.push({\n                        name: 'home'\n                    });\n                }, 800);\n            }\n        }\n    };\n</script>\n\n<style lang=\"less\" scoped>\n    @import \"../../style/formation.less\";\n\n    .cashier {\n        &-inner {\n            padding: 0 16px 14px 18px;\n            background-color: @white;\n        }\n        &-wrapper {\n            .item {\n                position: relative;\n                padding: 16px 0 8px;\n                border-bottom: 1px solid @border-color-dark;\n                &.bB1 {\n                    border-bottom-color: @main-theme-color;\n                }\n                &-label {\n                    font-size: 12px;\n                    line-height: 1.75;\n                    color: @text-color-normal;\n                    margin-bottom: 4px;\n                }\n                &-input {\n                    border: none;\n                    background-color: transparent;\n                    color: @text-color;\n                    line-height: 1.25;\n                    font-size: @font-normal;\n                    caret-color: @main-theme-color;\n                    padding-left: 0;\n                    &::-webkit-input-placeholder {\n                        color: @border-color-dark;\n                    }\n                }\n                &-notice {\n                    position: absolute;\n                    bottom: 8px;\n                    right: 0;\n                    color: @red;\n                    font-size: @font-small;\n                }\n            }\n            .amount-input {\n                position: relative;\n                border-left: none;\n                &.cursor {\n                 border-left: 1px solid @main-theme-color;\n                }\n                &:before {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    content: '￥';\n                    display: inline-block;\n                    color: @text-color;\n                    font-size: @font-hugeMore;\n                }\n            }\n        }\n        &-title {\n            color: #fff;\n            font-weight: 400;\n            font-size: @font-largest;\n        }\n    }\n\n    .cashier-input {\n        &-unit {\n            font-size: @font-hugeMore;\n            color: @text-color;\n        }\n        .amount-input {\n            font-size: 36px;\n        }\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7abab9f0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7abab9f0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7abab9f0\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports"],"sourceRoot":""}